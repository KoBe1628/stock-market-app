<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BeStox Home</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
</head>
<body data-page ="home">
  <header class="navbar">
    <div class="logo">Be<span>Stox</span></div>
  <div class="search-location-wrapper">
    <input type="text" id="search-input" class="search-bar" placeholder="Search..." autocomplete="off" />
    <div id="search-suggestions" class="search-dropdown"></div>
    <div id="location-display" class="location-info">Detecting location...</div>



  </div>



    <nav class="nav-links">
      <a href="../Main Page/homepage.html" data-page = "home">Home</a>
      <a href="../Home Page/homepage.html" data-page = "buy">Buy USDC</a>
      <a href="#">Transfer </a>
      <a href="../portfolio-watchlist.html"  data-page = "portfolio">Portfolio</a>
      <a href="#">Profile</a>
    </nav>
  </header>



  <main class="dashboard-container">
    <div class="column-left">
      <div class="center-wrapper">
        <section class="popular-section">
          <h3>Popular Coins</h3>
          <a href = "../detail.html" class ="coin-row-link">
          <div class="coin-row" data-symbol="BTC" data-type="coin">
  <img src="b.png" alt=""> Bitcoin <span>BTC</span>
  <div class="price" id="price-btc">$--</div>
  <span id="change-btc">--%</span>
</div>
          </a>
<div class="coin-row" data-symbol="ETH" data-type="coin">
  <img src="e.png" alt=""> Ethereum <span>ETH</span>
  <div class="price" id="price-eth">$--</div>
  <span id="change-eth">--%</span>
</div>

<div class="coin-row" data-symbol="TR" data-type="coin">
  <img src="t.png" alt=""> Tether <span>TR</span>
  <div class="price" id="price-tr">$--</div>
  <span id="change-tr">--%</span>
</div>

<div class="coin-row" data-symbol="DOGE" data-type="coin">
  <img src="d.png" alt=""> DogeCoin <span>DOGE</span>
  <div class="price" id="price-doge">$--</div>
  <span id="change-doge">--%</span>
</div>

        </section>

        <section class="market-movers">
          <h3>Market Movers</h3>
          <div class="movers-grid">

            <div class="mover-card" data-symbol="NFLX" data-type="stock">
  <img src="netflix.png" alt="Netflix">
  <div class="percent" id="netflix-change">--%</div>
  <div class="name">Netflix</div>
</div>

<div class="mover-card" data-symbol="NKE" data-type="stock">
  <img src="nike.png" alt="Nike">
  <div class="percent" id="nike-change">--%</div>
  <div class="name">Nike</div>
</div>

<div class="mover-card" data-symbol="AAPL" data-type="stock">
  <img src="apple.png" alt="Apple">
  <div class="percent" id="apple-change">--%</div>
  <div class="name">Apple</div>
</div>

<div class="mover-card" data-symbol="AMZN" data-type="stock">
  <img src="amazon.png" alt="Amazon">
  <div class="percent" id="amazon-change">--%</div>
  <div class="name">Amazon</div>
</div>

          </div>
        </section>
      </div>
    </div>

    <div class="column-right">
      <div class="top-right-row">
        <div class="portfolio-card">
          <div class="card-content">
            <div class="card-header">
              <h2>Bekhzod Kodirov</h2>
              <div class="chip"></div>
            </div>
            <div class="card-number">**** **** **** 1234</div>
            <div class="card-footer">
              <span>Portfolio Balance</span>
              <span class="amount">$24,839.00</span>
              <span class="growth positive">(+3.475%) ⬈</span>
            </div>
          </div>
        </div>

       <a href="../Pro Page/propage.html" class="promo-link">
  <section class="promo-banner">
    <p class="promo-text">
      Get <span class="pro-green italic">Be</span><span class="pro-green italic">Stox</span>
      <span class="pro-red">Pro</span> now 50% off</p>
    <img src="promo-chest.png" alt="Promo Chest" class="promo-img" />
  </section>
</a>

      </div>

      <section class="news-section">
        <h2>Today's News</h2>
        <div class="news-scroll-wrapper">
          <div id="news-carousel" class="news-carousel"></div>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="footer-section">
      <h4>About Us</h4>
      <ul>
        <li>Our Story</li>
        <li>Press</li>
        <li>Blog</li>
        <li>Awards</li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Services</h4>
      <ul>
        <li>Stock Trading</li>
        <li>Crypto Trading</li>
        <li>Portfolio Tracking</li>
        <li>Market Insights</li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Support</h4>
      <ul>
        <li>Help Center</li>
        <li>FAQs</li>
        <li>Contact Us</li>
        <li>Live Chat</li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Legal</h4>
      <ul>
        <li>Privacy & Policy</li>
        <li>Terms & Conditions</li>
        <li>Security</li>
        <li>Disclosures</li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Follow Us</h4>
      <ul>
        <li>Facebook</li>
        <li>Twitter</li>
        <li>LinkedIn</li>
        <li>Instagram</li>
      </ul>
    </div>
  </footer>

  <div class="copyright">
    © 2025 BeStox. All rights reserved.
  </div>

  <script src="./script.js"></script>
<script>
  async function fetchCryptoPrices() {
    try {
      const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,tether,dogecoin&vs_currencies=usd&include_24hr_change=true');
      const data = await res.json();

      // BTC
      document.getElementById("price-btc").textContent = `$${data.bitcoin.usd.toFixed(2)}`;
      updateChange("change-btc", data.bitcoin.usd_24h_change);

      // ETH
      document.getElementById("price-eth").textContent = `$${data.ethereum.usd.toFixed(2)}`;
      updateChange("change-eth", data.ethereum.usd_24h_change);

      // TR
      document.getElementById("price-tr").textContent = `$${data.tether.usd.toFixed(2)}`;
      updateChange("change-tr", data.tether.usd_24h_change);

      // DOGE
      document.getElementById("price-doge").textContent = `$${data.dogecoin.usd.toFixed(4)}`;
      updateChange("change-doge", data.dogecoin.usd_24h_change);

    } catch (err) {
      console.error("Price fetch error:", err);
    }
  }

  function updateChange(id, change) {
    const el = document.getElementById(id);
    const formatted = change.toFixed(2) + "%";
    el.textContent = formatted;
    el.className = change >= 0 ? "positive" : "negative";
  }

  fetchCryptoPrices();
  setInterval(fetchCryptoPrices, 30000); // every 30 seconds





</script>

<script>
document.addEventListener("DOMContentLoaded", async () => {
  const locationEl = document.getElementById("location-display");

  try {
    const res = await fetch("https://api.country.is/");
    const data = await res.json();

    const countryCode = data.country; // 2-letter code
    const flagUrl = `https://flagsapi.com/${countryCode}/flat/24.png`;

    locationEl.innerHTML = `
      <img src="${flagUrl}" alt="${countryCode} flag" />
      ${countryCode}
    `;
  } catch (err) {
    locationEl.textContent = "Location unavailable";
    console.error("Location detection error:", err);
  }
});
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const currentPage = document.body.dataset.page;
    const navLinks = document.querySelectorAll('.nav-links a');

    navLinks.forEach(link => {
      const href = link.getAttribute('href') || '';
      // Match based on known href parts and the page label
      if (
        (currentPage === "home" && href.includes("Main Page/homepage.html")) ||
        (currentPage === "buy" && href.includes("Home Page/homepage.html")) ||
        (currentPage === "transfer" && href.includes("transfer")) ||
        (currentPage === "portfolio" && href.includes("portfolio")) ||
        (currentPage === "profile" && href.includes("profile"))
      ) {
        link.classList.add("active-page");
      }
    });
  });
</script>


</body>
</html>
